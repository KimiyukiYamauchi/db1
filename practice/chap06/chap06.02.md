```sql
-- 使用するデータベースを指定
USE `chap06`;

-- 入退室管理テーブル作成
CREATE TABLE 入退室管理 (
  日付 DATE NOT NULL,              -- 入室した日付
  退室 CHAR(1),                    -- NULL: 入室中, '1': 退室済み
  社員名 VARCHAR(20) NOT NULL,     -- 入室した社員名
  事由区分 CHAR(1) NOT NULL        -- 1: メンテナンス, 2: リリース作業, 3: 障害対応, 9: その他
);

--- 入退室管理テーブルにデータを追加
INSERT INTO 入退室管理 (日付, 退室, 社員名, 事由区分) VALUES
('2024-05-07', '1', '佐藤', '2'),
('2024-05-04', '1', '佐藤', '1'),
('2024-05-02', '1', '佐藤', '9'),
('2024-05-07', '1', '佐藤', '1'),
('2024-05-12', '1', '佐藤', '2'),
('2024-05-14', '1', '鈴木', '3'),
('2024-05-07', '1', '鈴木', '2'),
('2024-05-14', '1', '佐藤', '3'),
('2024-05-05', '1', '田中', '3'),
('2024-05-06', '1', '鈴木', '1'),
('2024-05-15', NULL, '伊藤', '1'),
('2024-05-05', '1', '田中', '9'),
('2024-05-01', '1', '佐藤', '9'),
('2024-05-15', NULL, '鈴木', '1'),
('2024-05-09', '1', '高橋', '2'),
('2024-05-11', '1', '佐藤', '9'),
('2024-05-02', '1', '田中', '2'),
('2024-05-01', '1', '佐藤', '2'),
('2024-05-10', '1', '高橋', '2'),
('2024-05-10', '1', '伊藤', '2');

--- 試験結果テーブルのデータの確認
select * from 入退室管理;

```
## 問題

サーバールームへの入退室を記録した、入退室管理テーブルがあります。このテーブルについて、以下の設問で求められているデータを取得するSQL文を作成してください。なお、同姓同名の社員はいないものとします。

- 「chap06」データベースの「入退室管理」テーブル 
  

### 問題１

現在入室中の社員数を取得する。列名は入室中の社員数。

### 問題２

社員ごとの入室回数を、回数の多い順に取得する。列名は社員名、入室回数。

### 問題３

事由区分ごとの入室回数を取得する（事由区分はわかりやすく表示する、以下を参照）。列名は入室事由、入室回数。

- 1: メンテナンス
- 2: リリース作業
- 3: 障害対応
- 9: その他

### 問題４

入室回数が5回を超過する社員について、社員名と入室回数を取得する。列名は社員名、入室回数。

### 問題５

これまでに障害対応が発生した日付と、それに対応した社員数を取得する。列名は日付、社員数。

---

「rpg」データベースの「パーティー」、「イベント」、「経験イベント」テーブルについて、以下の操作を行う、SQL 文を記述してください

### 問題６

現在のパーティーにいるキャラクターの HP と MP について、最大値、最小値、平均値をそれぞれ求める。列名はそれぞれ、HPの最大値、HPの最小値、HPの平均値、MPの最大値、MPの最小値、MPの平均値。

### 問題７

イベントテーブルから、タイプ別にイベントの数を取得する。ただし、タイプは以下を参考に日本語で表示すること。列名はイベント名、イベント数。

- 1: 強制
- 2: フリー
- 3: 特殊

### 問題８

経験イベントテーブルから、クリアの結果別にクリアしたイベントの数を取得する。クリア結果順に表示すること。列名はクリア結果、イベント数。

### 問題９

攻撃魔法「小さな奇跡」は、パーティー全員の MP によって敵の行動が異なる。次の条件に従って、現在のパーティーがこの魔法を使ったときの敵の行動を表示する。列名は「敵の行動」。

- パーティー全員の MP の合計が 500 未満なら　「敵は見上げている！」
- パーティー全員の MP の合計が 500 以上 1000 未満なら　「敵は呆然としている！」
- パーティー全員の MP の合計が 1000 以上なら　「敵はひれ伏している！」

### 問題１０

経験イベントテーブルから、クリアしたイベント数と参加したもののまだクリアしていないイベントの数を次の形式で表示する。

| 区分            | イベント数 |
| ------------- | ----- |
| クリアした         |       |
| 参加したがクリアしていない |       |
